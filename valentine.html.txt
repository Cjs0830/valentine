<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Abigail, be my Valentine?</title>
  <style>
    :root{
      --bg1:#ff4d6d;
      --bg2:#ffb3c1;
      --card:#ffffffee;
      --text:#1f2937;
      --yes:#22c55e;
      --no:#ef4444;
      --shadow: 0 20px 60px rgba(0,0,0,.18);
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      min-height:100vh;
      display:grid;
      place-items:center;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      color:var(--text);
      background:
        radial-gradient(circle at 20% 20%, #fff 0 8px, transparent 9px) 0 0/48px 48px,
        radial-gradient(circle at 70% 40%, #fff 0 6px, transparent 7px) 0 0/60px 60px,
        linear-gradient(135deg, var(--bg1), var(--bg2));
      overflow:hidden;
    }

    .card{
      width:min(720px, 92vw);
      background:var(--card);
      border:1px solid rgba(255,255,255,.6);
      border-radius:28px;
      box-shadow: var(--shadow);
      padding: clamp(18px, 4vw, 36px);
      position:relative;
      backdrop-filter: blur(8px);
    }

    .top{
      display:flex;
      gap:18px;
      align-items:center;
      justify-content:center;
      flex-wrap:wrap;
      text-align:center;
    }

    .heart{
      width:80px; height:80px;
      filter: drop-shadow(0 10px 18px rgba(0,0,0,.12));
      animation: pulse 1.15s ease-in-out infinite;
    }
    @keyframes pulse{
      0%,100%{ transform: scale(1); }
      50%{ transform: scale(1.07); }
    }

    h1{
      margin:0;
      font-size: clamp(28px, 4.2vw, 44px);
      letter-spacing:-0.02em;
      line-height:1.05;
    }
    .name{
      background: linear-gradient(90deg, #ff3d76, #ff7aa2);
      -webkit-background-clip:text;
      background-clip:text;
      color:transparent;
      font-weight:900;
    }

    p{
      margin: 14px auto 0;
      max-width: 56ch;
      font-size: clamp(14px, 2.4vw, 18px);
      opacity:.9;
      text-align:center;
    }

    .buttons{
      margin-top: 26px;
      display:flex;
      gap:14px;
      justify-content:center;
      align-items:center;
      flex-wrap:wrap;
      position:relative;
      padding: 10px 0 4px;
    }

    button{
      border:0;
      cursor:pointer;
      border-radius: 999px;
      padding: 14px 22px;
      font-size: 18px;
      font-weight: 800;
      letter-spacing:.2px;
      transition: transform .08s ease, box-shadow .2s ease, opacity .2s ease;
      box-shadow: 0 12px 24px rgba(0,0,0,.14);
      user-select:none;
    }
    button:active{ transform: translateY(1px) scale(.99); }

    #yesBtn{
      background: linear-gradient(180deg, #34d399, #16a34a);
      color:white;
    }
    #yesBtn:hover{ box-shadow: 0 16px 30px rgba(22,163,74,.28); }

    #noBtn{
      background: linear-gradient(180deg, #fb7185, #ef4444);
      color:white;
      position:relative;
    }
    #noBtn:hover{ box-shadow: 0 16px 30px rgba(239,68,68,.22); }

    .footer{
      margin-top: 18px;
      text-align:center;
      font-size: 13px;
      opacity:.7;
    }

    /* Celebration overlay */
    .overlay{
      position:fixed;
      inset:0;
      display:none;
      place-items:center;
      background: rgba(0,0,0,.35);
      z-index:50;
      padding: 18px;
    }
    .overlay.show{ display:grid; }

    .modal{
      width:min(680px, 92vw);
      background:white;
      border-radius:28px;
      padding: clamp(18px, 4vw, 32px);
      box-shadow: var(--shadow);
      text-align:center;
      position:relative;
    }
    .big{
      font-size: clamp(26px, 4.5vw, 46px);
      margin:0;
      letter-spacing:-0.02em;
    }
    .sub{
      margin: 10px auto 0;
      font-size: clamp(14px, 2.4vw, 18px);
      max-width: 58ch;
      opacity:.85;
    }

    .close{
      margin-top: 18px;
      background:#111827;
      color:white;
      box-shadow: 0 14px 28px rgba(17,24,39,.22);
    }

    /* Confetti */
    canvas#confetti{
      position:fixed;
      inset:0;
      pointer-events:none;
      z-index:60;
    }

    /* Floating hearts background */
    .floaters{
      position:fixed;
      inset:0;
      pointer-events:none;
      opacity:.35;
      z-index:0;
    }
    .floater{
      position:absolute;
      font-size: 22px;
      animation: drift linear infinite;
      transform: translateY(110vh);
    }
    @keyframes drift{
      from{ transform: translateY(110vh) translateX(0); }
      to{ transform: translateY(-20vh) translateX(var(--dx)); }
    }

    /* Ensure card is above floaters */
    .card{ z-index: 2; }
  </style>
</head>
<body>
  <div class="floaters" id="floaters" aria-hidden="true"></div>

  <main class="card" role="main">
    <div class="top">
      <svg class="heart" viewBox="0 0 24 24" fill="none" aria-hidden="true">
        <path d="M12 21s-7.2-4.65-9.6-9.15C.85 8.95 2.2 6.1 4.9 5.25c1.65-.5 3.5.1 4.6 1.45L12 9.4l2.5-2.7c1.1-1.35 2.95-1.95 4.6-1.45 2.7.85 4.05 3.7 2.5 6.6C19.2 16.35 12 21 12 21Z"
              fill="#ff2d55"/>
      </svg>

      <div>
        <h1><span class="name">Abigail</span>, will you be my Valentine? üíò</h1>
        <p>
          I‚Äôm officially asking you the cutest question I can.
          One click and we‚Äôre locked in for snacks, laughs, and a little romance.
        </p>
      </div>
    </div>

    <section class="buttons" aria-label="Answer buttons">
      <button id="yesBtn" type="button">YES üíñ</button>
      <button id="noBtn" type="button">no üòÖ</button>
    </section>

    <div class="footer">Tip: If you want, change the wording inside the HTML to match your vibe.</div>
  </main>

  <div class="overlay" id="overlay" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
    <div class="modal">
      <h2 class="big" id="modalTitle">LET‚ÄôS GOOO üíû</h2>
      <p class="sub" id="modalText">
        Best decision ever. Abigail, you just made my whole day.
        Valentine‚Äôs plans = secured. ‚ú®
      </p>
      <button class="close" id="closeBtn" type="button">Okayyy üòå</button>
    </div>
  </div>

  <canvas id="confetti"></canvas>

  <script>
    // ---- Cute floating hearts in the background ----
    (function makeFloaters(){
      const container = document.getElementById('floaters');
      const hearts = ["üíó","üíñ","üíò","üíù","üíû","üíï"];
      const count = 18;
      for (let i = 0; i < count; i++){
        const s = document.createElement('div');
        s.className = 'floater';
        s.textContent = hearts[Math.floor(Math.random()*hearts.length)];
        const left = Math.random()*100;
        const dur = 10 + Math.random()*14;
        const delay = Math.random()*-dur;
        const dx = (Math.random()*80 - 40).toFixed(1) + "px";
        s.style.left = left + "vw";
        s.style.animationDuration = dur + "s";
        s.style.animationDelay = delay + "s";
        s.style.setProperty('--dx', dx);
        s.style.fontSize = (16 + Math.random()*18).toFixed(0) + "px";
        container.appendChild(s);
      }
    })();

    const yesBtn = document.getElementById('yesBtn');
    const noBtn  = document.getElementById('noBtn');
    const overlay = document.getElementById('overlay');
    const closeBtn = document.getElementById('closeBtn');

    // ---- "No" button dodges the cursor / taps ----
    function moveNoButton(){
      const padding = 14;
      const rect = noBtn.getBoundingClientRect();

      const maxX = window.innerWidth - rect.width - padding;
      const maxY = window.innerHeight - rect.height - padding;

      const x = Math.max(padding, Math.random() * maxX);
      const y = Math.max(padding, Math.random() * maxY);

      noBtn.style.position = "fixed";
      noBtn.style.left = x + "px";
      noBtn.style.top = y + "px";
    }

    // desktop hover
    noBtn.addEventListener('mouseenter', moveNoButton);
    // mobile tap
    noBtn.addEventListener('touchstart', (e) => {
      e.preventDefault();
      moveNoButton();
    }, { passive: false });

    // ---- YES: show modal + confetti ----
    yesBtn.addEventListener('click', () => {
      overlay.classList.add('show');
      startConfetti();
    });

    closeBtn.addEventListener('click', () => {
      overlay.classList.remove('show');
      stopConfettiSoon();
    });

    overlay.addEventListener('click', (e) => {
      if (e.target === overlay){
        overlay.classList.remove('show');
        stopConfettiSoon();
      }
    });

    // ---- Confetti (tiny canvas particle system) ----
    const canvas = document.getElementById('confetti');
    const ctx = canvas.getContext('2d');

    let particles = [];
    let raf = null;
    let confettiRunning = false;
    let stopTimer = null;

    function resize(){
      canvas.width = window.innerWidth * devicePixelRatio;
      canvas.height = window.innerHeight * devicePixelRatio;
      ctx.setTransform(devicePixelRatio, 0, 0, devicePixelRatio, 0, 0);
    }
    window.addEventListener('resize', resize);
    resize();

    function rand(min, max){ return Math.random() * (max - min) + min; }

    function makeParticles(){
      const amount = 180;
      const colors = ["#ff2d55","#ff7aa2","#ffd1dc","#22c55e","#60a5fa","#fbbf24","#a78bfa"];
      for (let i = 0; i < amount; i++){
        particles.push({
          x: rand(0, window.innerWidth),
          y: rand(-40, -10),
          r: rand(3, 6),
          vx: rand(-2.2, 2.2),
          vy: rand(2.2, 6.2),
          rot: rand(0, Math.PI*2),
          vr: rand(-0.2, 0.2),
          color: colors[Math.floor(Math.random()*colors.length)],
          shape: Math.random() < 0.18 ? "heart" : "rect",
        });
      }
    }

    function drawHeart(x, y, size){
      ctx.save();
      ctx.translate(x, y);
      ctx.scale(size/12, size/12);
      ctx.beginPath();
      ctx.moveTo(0, 3);
      ctx.bezierCurveTo(0, -3, -8, -3, -8, 3);
      ctx.bezierCurveTo(-8, 8, 0, 11, 0, 16);
      ctx.bezierCurveTo(0, 11, 8, 8, 8, 3);
      ctx.bezierCurveTo(8, -3, 0, -3, 0, 3);
      ctx.closePath();
      ctx.fill();
      ctx.restore();
    }

    function step(){
      ctx.clearRect(0, 0, window.innerWidth, window.innerHeight);

      for (const p of particles){
        p.x += p.vx;
        p.y += p.vy;
        p.rot += p.vr;
        p.vy += 0.03; // gravity-ish

        ctx.save();
        ctx.fillStyle = p.color;
        ctx.translate(p.x, p.y);
        ctx.rotate(p.rot);

        if (p.shape === "heart"){
          drawHeart(0, 0, p.r * 3);
        } else {
          ctx.fillRect(-p.r, -p.r, p.r * 2.2, p.r * 2.2);
        }
        ctx.restore();
      }

      // remove offscreen
      particles = particles.filter(p => p.y < window.innerHeight + 30);

      if (confettiRunning){
        // keep a steady stream
        if (particles.length < 220) makeParticles();
        raf = requestAnimationFrame(step);
      } else {
        raf = null;
      }
    }

    function startConfetti(){
      if (stopTimer) { clearTimeout(stopTimer); stopTimer = null; }
      confettiRunning = true;
      makeParticles();
      if (!raf) step();
    }

    function stopConfettiSoon(){
      // let it fall for a moment then stop
      if (stopTimer) clearTimeout(stopTimer);
      stopTimer = setTimeout(() => {
        confettiRunning = false;
      }, 900);
    }
  </script>
</body>
</html>
